---
title: "Initialization"
description: "Set up and configure the Wavedash SDK in your game"
---

The Wavedash SDK initializes automatically when your game loads on Wavedash. This page explains the initialization process and configuration options.

## Automatic initialization

When your game runs on Wavedash (either locally with `wvdsh dev` or in production), the SDK is automatically:

1. Loaded into the page
2. Configured with your game's credentials
3. Connected to the Wavedash backend
4. Made available as `window.WavedashJS`

You don't need to manually initialize the SDK in most cases.

## Checking ready state

<CodeGroup>
```gdscript Godot
func _ready():
    WavedashSDK.backend_connected.connect(_on_connected)
    WavedashSDK.init({"debug": true})
    WavedashSDK.ready_for_events()

func _on_connected(payload):
    print("SDK is ready!")
    var user_id = WavedashSDK.get_user_id()
    var username = WavedashSDK.get_username()
    print("Playing as: ", username)
```

```csharp Unity
using Wavedash;
using System.Collections.Generic;

public class GameManager : MonoBehaviour
{
    void Start()
    {
        SDK.Init(new Dictionary<string, object>
        {
            { "debug", true }
        });

        if (SDK.IsReady())
        {
            var user = SDK.GetUser();
            if (user != null)
            {
                Debug.Log($"Playing as: {user["username"]}");
            }
        }
    }
}
```

```javascript JavaScript
if (WavedashJS.isReady()) {
  const response = await WavedashJS.getLeaderboard("high-scores");
}
```
</CodeGroup>

## Configuration options

```typescript
interface WavedashConfig {
  gameId: string;              // Your game's ID (set automatically)
  debug?: boolean;             // Enable debug logging
  remoteStorageOrigin?: string; // Custom storage origin
  p2p?: Partial<P2PConfig>;    // P2P networking options
  disableAchievementsAndStats?: boolean; // Disable stats tracking
  deferEvents?: boolean;       // Defer event signals until ready
}
```

### Debug mode

<CodeGroup>
```gdscript Godot
func _ready():
    WavedashSDK.init({"debug": true})
```

```csharp Unity
void Start()
{
    SDK.Init(new Dictionary<string, object>
    {
        { "debug", true }
    });
}
```

```javascript JavaScript
// Debug mode is typically set via the Wavedash dashboard
// or automatically enabled in development
```
</CodeGroup>

## Event deferral

By default, the SDK starts sending signals immediately. If you need to defer events until your game is ready:

<CodeGroup>
```gdscript Godot
func _ready():
    # Connect all your signal handlers first
    WavedashSDK.lobby_joined.connect(_on_lobby_joined)
    WavedashSDK.lobby_message.connect(_on_lobby_message)
    WavedashSDK.p2p_connection_established.connect(_on_p2p_connected)

    # Initialize the SDK
    WavedashSDK.init({"debug": true})

    # Then signal you're ready to receive events
    WavedashSDK.ready_for_events()
```

```csharp Unity
void Awake()
{
    SDK.OnLobbyJoined += HandleLobbyJoined;
    SDK.OnLobbyMessage += HandleLobbyMessage;
    SDK.OnP2PConnectionEstablished += HandleP2PConnected;
}

void Start()
{
    SDK.Init(new Dictionary<string, object> { { "debug", true } });
    // Unity SDK events fire immediately after Init
}
```

```javascript JavaScript
WavedashJS.readyForEvents();
```
</CodeGroup>

## Current user

<CodeGroup>
```gdscript Godot
func get_current_user():
    var user_id = WavedashSDK.get_user_id()
    var username = WavedashSDK.get_username()
    print("User ID: ", user_id)
    print("Username: ", username)
```

```csharp Unity
public void GetCurrentUser()
{
    var user = SDK.GetUser();
    if (user != null)
    {
        Debug.Log($"User ID: {user["id"]}");
        Debug.Log($"Username: {user["username"]}");
    }
}
```

```javascript JavaScript
const userId = WavedashJS.getUserId();
const user = WavedashJS.getUser();
console.log(`Playing as: ${user.username}`);
```
</CodeGroup>

## Backend connection

<CodeGroup>
```gdscript Godot
func _ready():
    WavedashSDK.backend_connected.connect(_on_backend_connected)
    WavedashSDK.backend_disconnected.connect(_on_backend_disconnected)
    WavedashSDK.backend_reconnecting.connect(_on_backend_reconnecting)

func _on_backend_connected(payload):
    print("Connected to Wavedash!")

func _on_backend_disconnected(payload):
    print("Disconnected from Wavedash")

func _on_backend_reconnecting(payload):
    print("Reconnecting...")
```

```csharp Unity
// Backend connection events are not yet available in the Unity SDK.
// The SDK automatically manages connection state.
// Use SDK.IsReady() to check if the SDK is initialized.
```

```javascript JavaScript
// Connection signals are emitted automatically:
// BACKEND_CONNECTED - Successfully connected to backend
// BACKEND_DISCONNECTED - Disconnected from backend
// BACKEND_RECONNECTING - Attempting to reconnect
```
</CodeGroup>

| Signal | Description |
|--------|-------------|
| `BACKEND_CONNECTED` | Successfully connected to backend |
| `BACKEND_DISCONNECTED` | Disconnected from backend |
| `BACKEND_RECONNECTING` | Attempting to reconnect |

## Engine-specific initialization

<CodeGroup>
```gdscript Godot
# Wavedash.gd (Autoload)
extends Node

func _ready():
    WavedashSDK.backend_connected.connect(_on_connected)
    WavedashSDK.backend_disconnected.connect(_on_disconnected)
    WavedashSDK.init({"debug": true})
    WavedashSDK.ready_for_events()

func _on_connected(payload):
    print("Connected to Wavedash!")
    var username = WavedashSDK.get_username()
    print("Playing as: ", username)

func _on_disconnected(payload):
    print("Disconnected from Wavedash")
```

```csharp Unity
using Wavedash;
using System.Collections.Generic;

public class WavedashManager : MonoBehaviour
{
    void Awake()
    {
        SDK.OnLobbyJoined += HandleLobbyJoined;
        SDK.OnP2PConnectionEstablished += HandleP2PConnected;
    }

    void Start()
    {
        SDK.Init(new Dictionary<string, object>
        {
            { "debug", true }
        });

        if (SDK.IsReady())
        {
            var user = SDK.GetUser();
            if (user != null)
            {
                Debug.Log($"Playing as: {user["username"]}");
            }
        }
    }

    void HandleLobbyJoined(Dictionary<string, object> data)
    {
        Debug.Log("Joined lobby!");
    }

    void HandleP2PConnected(Dictionary<string, object> data)
    {
        Debug.Log("P2P connection established!");
    }
}
```

```javascript JavaScript
function waitForWavedash() {
  if (window.WavedashJS && WavedashJS.isReady()) {
    initGame();
  } else {
    setTimeout(waitForWavedash, 100);
  }
}

waitForWavedash();
```
</CodeGroup>
