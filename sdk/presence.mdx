---
title: "Presence"
description: "Track and share player online status and activity"
---

The Presence API lets you share player status and activity with friends and other players. Use it to show what players are doing, enable "join game" functionality, and build social features.

## Updating presence

<CodeGroup>
```gdscript Godot
func set_presence(status: String, details: String, game_data: Dictionary = {}):
    WavedashSDK.update_user_presence(status, details, game_data)

# Example usage
func on_game_start():
    set_presence("In Game", "Playing Level 5", {
        "level": 5,
        "score": 12500,
        "lobbyId": current_lobby_id
    })
```

```csharp Unity
using Wavedash;

public class PresenceExample : MonoBehaviour
{
    public void SetPresence(string status, string details, Dictionary<string, object> gameData = null)
    {
        SDK.UpdateUserPresence(status, details, gameData ?? new Dictionary<string, object>());
    }

    public void OnGameStart()
    {
        SetPresence("In Game", "Playing Level 5", new Dictionary<string, object>
        {
            { "level", 5 },
            { "score", 12500 },
            { "lobbyId", currentLobbyId }
        });
    }
}
```

```javascript JavaScript
const response = await WavedashJS.updateUserPresence({
  status: "In Game",
  details: "Playing Level 5",
  gameData: {
    level: 5,
    score: 12500,
    lobbyId: "lobby_abc123"
  }
});
```
</CodeGroup>

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `status` | string | No | Short status text (e.g., "In Menu", "In Game") |
| `details` | string | No | Detailed activity description |
| `gameData` | object | No | Custom data for join functionality |

## Use cases

### Menu vs in-game status

<CodeGroup>
```gdscript Godot
func on_enter_menu():
    WavedashSDK.update_user_presence("In Menu", "Main Menu", {})

func on_start_game(mode: String, map: String):
    WavedashSDK.update_user_presence("In Game", mode + " on " + map, {
        "mode": mode,
        "map": map
    })

func on_join_lobby(lobby_id: String, player_count: int, max_players: int):
    WavedashSDK.update_user_presence(
        "In Lobby",
        "Waiting (" + str(player_count) + "/" + str(max_players) + ")",
        { "lobbyId": lobby_id, "canJoin": player_count < max_players }
    )
```

```csharp Unity
public void OnEnterMenu()
{
    SDK.UpdateUserPresence("In Menu", "Main Menu", new Dictionary<string, object>());
}

public void OnStartGame(string mode, string map)
{
    SDK.UpdateUserPresence("In Game", $"{mode} on {map}", new Dictionary<string, object>
    {
        { "mode", mode },
        { "map", map }
    });
}

public void OnJoinLobby(string lobbyId, int playerCount, int maxPlayers)
{
    SDK.UpdateUserPresence("In Lobby", $"Waiting ({playerCount}/{maxPlayers})",
        new Dictionary<string, object>
        {
            { "lobbyId", lobbyId },
            { "canJoin", playerCount < maxPlayers }
        });
}
```

```javascript JavaScript
// In menu
WavedashJS.updateUserPresence({ status: "In Menu", details: "Main Menu" });

// In game
WavedashJS.updateUserPresence({
  status: "In Game",
  details: "Deathmatch on Arena",
  gameData: { mode: "deathmatch", map: "arena" }
});

// In lobby
WavedashJS.updateUserPresence({
  status: "In Lobby",
  details: "Waiting (2/4)",
  gameData: { lobbyId: currentLobbyId, canJoin: true }
});
```
</CodeGroup>

### Joinable games

Include a `lobbyId` in `gameData` to enable "Join Game" functionality:

<CodeGroup>
```gdscript Godot
func update_lobby_presence(lobby_id: String, current_players: int, max_players: int):
    WavedashSDK.update_user_presence(
        "In Lobby",
        "Arena - Waiting",
        { "lobbyId": lobby_id, "canJoin": current_players < max_players }
    )
```

```csharp Unity
public void UpdateLobbyPresence(string lobbyId, int currentPlayers, int maxPlayers)
{
    SDK.UpdateUserPresence("In Lobby", "Arena - Waiting", new Dictionary<string, object>
    {
        { "lobbyId", lobbyId },
        { "canJoin", currentPlayers < maxPlayers }
    });
}
```

```javascript JavaScript
WavedashJS.updateUserPresence({
  status: "In Lobby",
  details: "Arena - Waiting",
  gameData: {
    lobbyId: lobbyId,
    canJoin: lobbyUsers.length < maxPlayers
  }
});
```
</CodeGroup>

## Connection signals

<CodeGroup>
```gdscript Godot
func _ready():
    WavedashSDK.backend_connected.connect(_on_connected)
    WavedashSDK.backend_disconnected.connect(_on_disconnected)
    WavedashSDK.backend_reconnecting.connect(_on_reconnecting)

func _on_connected(payload):
    hide_connection_indicators()

func _on_disconnected(payload):
    show_offline_indicator()

func _on_reconnecting(payload):
    show_reconnecting_indicator()
```

```csharp Unity
void Awake()
{
    SDK.OnBackendConnected += data => HideConnectionIndicators();
    SDK.OnBackendDisconnected += data => ShowOfflineIndicator();
    SDK.OnBackendReconnecting += data => ShowReconnectingIndicator();
}
```

```javascript JavaScript
// Connection signals:
// BACKEND_CONNECTED - Connected to Wavedash backend
// BACKEND_DISCONNECTED - Lost connection
// BACKEND_RECONNECTING - Attempting to reconnect
```
</CodeGroup>

| Signal | Description |
|--------|-------------|
| `BACKEND_CONNECTED` | Connected to Wavedash backend |
| `BACKEND_DISCONNECTED` | Lost connection |
| `BACKEND_RECONNECTING` | Attempting to reconnect |

## Clearing presence

<CodeGroup>
```gdscript Godot
func clear_presence():
    WavedashSDK.update_user_presence("", "", {})
```

```csharp Unity
public void ClearPresence()
{
    SDK.UpdateUserPresence("", "", new Dictionary<string, object>());
}
```

```javascript JavaScript
WavedashJS.updateUserPresence({ status: "", details: "" });
```
</CodeGroup>
