---
title: "Lobbies"
description: "Create and manage multiplayer game lobbies"
---

The Lobbies API lets you create multiplayer rooms where players can gather before or during gameplay. Lobbies support real-time messaging, metadata storage, and automatic P2P connection setup.

## Creating a lobby

Create a new lobby and automatically join it:

<CodeGroup>
```gdscript Godot
func _ready():
    WavedashSDK.lobby_created.connect(_on_lobby_created)

func create_lobby():
    # Lobby types: PUBLIC, FRIENDS_ONLY, or PRIVATE
    WavedashSDK.create_lobby(WavedashConstants.LOBBY_TYPE_PUBLIC, 4)

func _on_lobby_created(response):
    if response.get("success", false):
        var lobby_id = response["data"]
        print("Created lobby: ", lobby_id)
```

```csharp Unity
using Wavedash;

public class LobbyExample : MonoBehaviour
{
    public async void CreateLobby()
    {
        // Lobby types: 0 = public, 1 = friends only, 2 = private
        var lobbyId = await SDK.CreateLobby(
            lobbyType: 0,
            maxPlayers: 4
        );

        if (!string.IsNullOrEmpty(lobbyId))
        {
            Debug.Log($"Created lobby: {lobbyId}");
        }
    }
}
```

```javascript JavaScript
const response = await WavedashJS.createLobby(
  "public",  // visibility: "public", "private", or "friends"
  4          // maxPlayers (optional)
);

if (response.success) {
  const lobbyId = response.data;
  console.log(`Created lobby: ${lobbyId}`);
}
```
</CodeGroup>

### Visibility options

| Value | Description |
|-------|-------------|
| `public` | Anyone can find and join |
| `private` | Only joinable with the lobby ID |
| `friends` | Only friends can see and join |

## Joining a lobby

Join an existing lobby by ID:

<CodeGroup>
```gdscript Godot
func _ready():
    WavedashSDK.lobby_joined.connect(_on_lobby_joined)

func join_lobby(lobby_id: String):
    WavedashSDK.join_lobby(lobby_id)

func _on_lobby_joined(response):
    if response.get("success", false):
        print("Joined lobby!")
```

```csharp Unity
public async void JoinLobby(string lobbyId)
{
    var result = await SDK.JoinLobby(lobbyId);
    if (!string.IsNullOrEmpty(result))
    {
        Debug.Log("Joined lobby!");
    }
}
```

```javascript JavaScript
const response = await WavedashJS.joinLobby(lobbyId);

if (response.success) {
  console.log("Joined lobby!");
}
```
</CodeGroup>

## Leaving a lobby

<CodeGroup>
```gdscript Godot
func leave_lobby(lobby_id: String):
    WavedashSDK.leave_lobby(lobby_id)

func _on_lobby_left(payload):
    print("Left lobby")
```

```csharp Unity
public async void LeaveLobby(string lobbyId)
{
    await SDK.LeaveLobby(lobbyId);
    Debug.Log("Left lobby");
}
```

```javascript JavaScript
const response = await WavedashJS.leaveLobby(lobbyId);

if (response.success) {
  console.log("Left lobby");
}
```
</CodeGroup>

## Listing available lobbies

Find public lobbies to join:

<CodeGroup>
```gdscript Godot
func _ready():
    WavedashSDK.got_lobbies.connect(_on_got_lobbies)

func list_lobbies():
    WavedashSDK.list_available_lobbies()

func _on_got_lobbies(lobbies: Array):
    for lobby in lobbies:
        print(lobby["id"], ": ", lobby["numUsers"], "/", lobby["maxPlayers"], " players")
```

```csharp Unity
public async void ListLobbies()
{
    var lobbies = await SDK.ListAvailableLobbies();

    foreach (var lobby in lobbies)
    {
        Debug.Log($"{lobby["id"]}: {lobby["numUsers"]}/{lobby["maxPlayers"]} players");
    }
}
```

```javascript JavaScript
const response = await WavedashJS.listAvailableLobbies();

if (response.success) {
  response.data.forEach(lobby => {
    console.log(`${lobby.id}: ${lobby.numUsers}/${lobby.maxPlayers} players`);
  });
}
```
</CodeGroup>

## Lobby users

### Get users in a lobby

<CodeGroup>
```gdscript Godot
func get_lobby_users_list(lobby_id: String) -> Array:
    var users = WavedashSDK.get_lobby_users(lobby_id)
    for user in users:
        print("- ", user["username"], " (", user["id"], ")")
    return users
```

```csharp Unity
// GetLobbyUsers is not yet available in the Unity SDK.
// Track users via OnLobbyJoined and lobby update events.
```

```javascript JavaScript
const users = WavedashJS.getLobbyUsers(lobbyId);

users.forEach(user => {
  console.log(`- ${user.username} (${user.id})`);
});
```
</CodeGroup>

### Get the host

<CodeGroup>
```gdscript Godot
func is_host(lobby_id: String) -> bool:
    var host_id = WavedashSDK.get_lobby_host_id(lobby_id)
    var is_host = host_id == WavedashSDK.get_user_id()
    if is_host:
        print("You are the host!")
    return is_host
```

```csharp Unity
public bool IsHost(string lobbyId)
{
    var hostId = SDK.GetLobbyHostId(lobbyId);
    var isHost = hostId == SDK.GetUserId();

    if (isHost)
    {
        Debug.Log("You are the host!");
    }
    return isHost;
}
```

```javascript JavaScript
const hostId = WavedashJS.getLobbyHostId(lobbyId);
const isHost = hostId === WavedashJS.getUserId();

if (isHost) {
  console.log("You are the host!");
}
```
</CodeGroup>

### Get user count

<CodeGroup>
```gdscript Godot
var count = WavedashSDK.get_num_lobby_users(lobby_id)
print(count, " players in lobby")
```

```csharp Unity
// GetNumLobbyUsers is not yet available in the Unity SDK.
// Track user count via lobby update events.
```

```javascript JavaScript
const count = WavedashJS.getNumLobbyUsers(lobbyId);
console.log(`${count} players in lobby`);
```
</CodeGroup>

## Lobby messaging

Send messages to all players in the lobby:

<CodeGroup>
```gdscript Godot
func send_chat_message(lobby_id: String, message: String):
    WavedashSDK.send_lobby_chat_message(lobby_id, message)
```

```csharp Unity
// SendLobbyChatMessage is not yet available in the Unity SDK.
// Use P2P messaging for in-lobby communication.
```

```javascript JavaScript
WavedashJS.sendLobbyMessage(lobbyId, "Hello everyone!");
```
</CodeGroup>

<Note>
Messages have a maximum length of 1000 characters.
</Note>

### Receiving messages

<CodeGroup>
```gdscript Godot
func _ready():
    WavedashSDK.lobby_message.connect(_on_lobby_message)

func _on_lobby_message(payload):
    print(payload["username"], ": ", payload["content"])
```

```csharp Unity
void Awake()
{
    SDK.OnLobbyMessage += HandleLobbyMessage;
}

void HandleLobbyMessage(Dictionary<string, object> data)
{
    Debug.Log($"{data["username"]}: {data["content"]}");
}

void OnDestroy()
{
    SDK.OnLobbyMessage -= HandleLobbyMessage;
}
```

```javascript JavaScript
// Messages are delivered via signals
function onLobbyMessage(message) {
  console.log(`${message.username}: ${message.content}`);
}
```
</CodeGroup>

## Lobby metadata

Store custom key-value data on the lobby. Only the host can set metadata.

### Set metadata (host only)

<CodeGroup>
```gdscript Godot
func set_game_settings(lobby_id: String):
    # Only the host can set lobby data
    WavedashSDK.set_lobby_data(lobby_id, "gameMode", "deathmatch")
    WavedashSDK.set_lobby_data(lobby_id, "mapName", "arena_01")
```

```csharp Unity
// SetLobbyData is not yet available in the Unity SDK.
// Use P2P messaging to share game settings with other players.
```

```javascript JavaScript
WavedashJS.setLobbyData(lobbyId, "gameMode", "deathmatch");
WavedashJS.setLobbyData(lobbyId, "mapName", "arena_01");
```
</CodeGroup>

### Get metadata

<CodeGroup>
```gdscript Godot
var game_mode = WavedashSDK.get_lobby_data(lobby_id, "gameMode")
var map_name = WavedashSDK.get_lobby_data(lobby_id, "mapName")
```

```csharp Unity
// GetLobbyData is not yet available in the Unity SDK.
// Receive shared data via P2P messaging.
```

```javascript JavaScript
const gameMode = WavedashJS.getLobbyData(lobbyId, "gameMode");
const mapName = WavedashJS.getLobbyData(lobbyId, "mapName");
```
</CodeGroup>

## Signals

| Signal | Description | Data |
|--------|-------------|------|
| `LOBBY_JOINED` | Successfully joined a lobby | `{ lobbyId }` |
| `LOBBY_USERS_UPDATED` | Users joined or left | `{ users }` |
| `LOBBY_MESSAGE` | New message received | `{ username, content, ... }` |
| `LOBBY_DATA_UPDATED` | Metadata changed | `{ key, value }` |
| `LOBBY_KICKED` | Removed from lobby | `{ reason }` |

## P2P integration

When players join a lobby, P2P connections are automatically established. See [P2P Networking](/sdk/p2p).

<CodeGroup>
```gdscript Godot
# After joining a lobby, you can send P2P messages
func broadcast_game_data(data: PackedByteArray):
    WavedashSDK.send_p2p_message("", data, 0, true)
```

```csharp Unity
// After joining a lobby, you can send P2P messages
public void BroadcastGameData(byte[] data)
{
    SDK.BroadcastP2PMessage(data, channel: 0, reliable: true);
}
```

```javascript JavaScript
// After joining a lobby, you can send P2P messages
WavedashJS.broadcastP2PMessage(
  0,                        // channel
  true,                     // reliable
  new Uint8Array([1, 2, 3]) // payload
);
```
</CodeGroup>
